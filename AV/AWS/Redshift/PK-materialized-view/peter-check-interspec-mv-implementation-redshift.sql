Full data load is complete now. You may do some changes in MV to test CDC.
Redshift dev details:
server: redshift-cluster-rna.csvpwdknrhzd.ap-south-1.redshift.amazonaws.com
port: 5439
db: db_dev_lims
schema: interspc
username: lims_report_user
pass: a1dFR09mn!6lk



--*********************
--*********************
--test on INTERSPEC-TEST to see if changes on MV_SPECDATA also are replicated to REDSHIFT !!
--*********************
--*********************


--*********************
--INTERSPEC-DB: IS61
--*********************
select count(*) from specdata;
--72.882.447

select count(*) from mv_specdata;
--72.882.447

--test: ER_DE04-00-0012
select * from specdata where part_no = 'ER_DE04-00-0012' and revision =9;
--revision=9
ER_DE04-00-0012	9	700583	701822	10	4	710528	100	0	710528	0	700511	10	10	-1	-1	-1	-1	-1	0	0		100	100	1	100	100	0	0	0	0	101	0	1
ER_DE04-00-0012	9	700584	0	2	1	701817	100	701817	703268	0	700498	12	12	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	3	1	701817	100	701817	703268	0	700503	0	N	700649	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-0012	9	700584	0	4	1	701817	100	701817	703268	0	700811	-1	-1	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	5	1	701817	100	701817	703268	0	700812	1	1	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	6	1	701817	100	701817	704688	0	700498	0	0	701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	7	1	701817	100	701817	704688	0	700503	0	N	701009	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-0012	9	700584	0	8	1	701817	100	701817	704688	0	700811			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	9	1	701817	100	701817	704688	0	700812			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700755	0	16	1	703176	100	703176	710529	0	700511	0	0	700626	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1
ER_DE04-00-0012	9	700755	0	17	1	703176	100	703176	710530	0	700511	14	14	700627	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1
ER_DE04-00-0012	9	700755	0	11	4	705428	100	0	705428	0	700511	900205	L9: NOH EN GORDEL-STRIPS          	-1	-1	900205	900132	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1
ER_DE04-00-0012	9	700755	0	12	4	705429	100	0	705429	0	700751	901439	KLOS	-1	-1	901439	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-0012	9	700755	0	13	4	705429	100	0	705429	0	701151	2800	2800	-1	-1	901439	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-0012	9	700755	0	14	4	709030	200	0	709030	0	700511	900484	Yes	-1	-1	900484	900141	-1	0	0		100	100	1	200	100	0	0	0	100	101	0	1
ER_DE04-00-0012	9	700755	0	15	4	710531	100	0	710531	0	700511	900976	H: Halffabrikaten Volgordelijk	-1	-1	900976	900211	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1

--By means of INTERSPEC update of PROPERTY = 705429 (section=700755)  of value = 2800 naar 2801.
--Spec REVISION=9 was already in DEV-status !!!

--check after the update to see result in MV_SPECDATA:
select * from mv_specdata where part_no = 'ER_DE04-00-0012' and revision =9;
ER_DE04-00-0012	9	700583	701822	10	4	710528	100	0	710528	0	700511	10	10	-1	-1	-1	-1	-1	0	0		100	100	1	100	100	0	0	0	0	101	0	1
ER_DE04-00-0012	9	700584	0	2	1	701817	100	701817	703268	0	700498	12	12	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	3	1	701817	100	701817	703268	0	700503	0	N	700649	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-0012	9	700584	0	4	1	701817	100	701817	703268	0	700811	-1	-1	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	5	1	701817	100	701817	703268	0	700812	1	1	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	6	1	701817	100	701817	704688	0	700498	0	0	701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	7	1	701817	100	701817	704688	0	700503	0	N	701009	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-0012	9	700584	0	8	1	701817	100	701817	704688	0	700811			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	9	1	701817	100	701817	704688	0	700812			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700755	0	2	4	705428	100	0	705428	0	700511	900205	L9: NOH EN GORDEL-STRIPS          	-1	-1	900205	900132	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1
ER_DE04-00-0012	9	700755	0	3	4	705429	100	0	705429	0	700751	901439	KLOS	-1	-1	901439	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-0012	9	700755	0	4	4	705429	100	0	705429	0	701151	2801	2801	-1	-1	901439	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-0012	9	700755	0	5	4	709030	200	0	709030	0	700511	900484	Yes	-1	-1	900484	900141	-1	0	0		100	100	1	200	100	0	0	0	100	101	0	1
ER_DE04-00-0012	9	700755	0	6	4	710531	100	0	710531	0	700511	900976	H: Halffabrikaten Volgordelijk	-1	-1	900976	900211	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1
ER_DE04-00-0012	9	700755	0	7	1	703176	100	703176	710529	0	700511	0	0	700626	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1
ER_DE04-00-0012	9	700755	0	8	1	703176	100	703176	710530	0	700511	14	14	700627	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1

=OK !!! Change is immediately visible in MV_SPECDATA !!!

--*********************
--What is replicated to REDSHIFT:
--REDSHIFT-DB: DB_DEV_LIMS
--*********************

select count(*) from specdata;
20.165.358
--this number of rows is far less then filling in INTERSPEC

select count(*) from interspc.mv_specdata;
--72882447
--MV_SPECDATA is containing the right number of rows !!!

select * from mv_specdata where part_no = 'ER_DE04-00-0012' and revision =9;
ER_DE04-00-0012	9	700584	0	5	1	701817	100	701817	703268	0	700812	1.0	1	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	9	1	701817	100	701817	704688	0	700812			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	4	1	701817	100	701817	703268	0	700811	-1.0	-1	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	8	1	701817	100	701817	704688	0	700811			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	2	1	701817	100	701817	703268	0	700498	12.0	12	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700584	0	6	1	701817	100	701817	704688	0	700498	0.0	0	701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-0012	9	700583	701822	10	4	710528	100	0	710528	0	700511	10.0	10	-1	-1	-1	-1	-1	0	0		100	100	1	100	100	0	0	0	0	101	0	1
ER_DE04-00-0012	9	700755	0	7	1	703176	100	703176	710529	0	700511	0.0	0	700626	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1
ER_DE04-00-0012	9	700755	0	3	4	705429	100	0	705429	0	700751	901439.0	KLOS	-1	-1	901439	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-0012	9	700755	0	6	4	710531	100	0	710531	0	700511	900976.0	H: Halffabrikaten Volgordelijk	-1	-1	900976	900211	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1
ER_DE04-00-0012	9	700755	0	8	1	703176	100	703176	710530	0	700511	14.0	14	700627	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1
ER_DE04-00-0012	9	700584	0	3	1	701817	100	701817	703268	0	700503	0.0	N	700649	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-0012	9	700584	0	7	1	701817	100	701817	704688	0	700503	0.0	N	701009	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-0012	9	700755	0	5	4	709030	200	0	709030	0	700511	900484.0	Yes	-1	-1	900484	900141	-1	0	0		100	100	1	200	100	0	0	0	100	101	0	1
ER_DE04-00-0012	9	700755	0	4	4	705429	100	0	705429	0	701151	2801.0	2801	-1	-1	901439	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-0012	9	700755	0	2	4	705428	100	0	705428	0	700511	900205.0	L9: NOH EN GORDEL-STRIPS          	-1	-1	900205	900132	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1

--and we see that also in the MV_SPECDATA the property-value has changed to value = 2801 !!!!
--So this seems to be working !!!



--*********************
--*********************
--NeXT TEST COMPONENT= ER_DE04-00-228 : create new REVISION !!!
--*********************
--*********************
--
select * from mv_specdata where part_no = 'ER_DE04-00-228' and revision = 3;
ER_DE04-00-228	3	700583	701782	10	4	710528	100	0	710528	0	700511	10	10	-1	-1	-1	-1	-1	0	0		100	100	1	100	100	0	0	0	0	101	0	1
ER_DE04-00-228	3	700584	0	2	1	701817	100	701817	703268	0	700498	228	228	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700584	0	3	1	701817	100	701817	703268	0	700503	0	N	700649	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-228	3	700584	0	4	1	701817	100	701817	703268	0	700811	3	3	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700584	0	5	1	701817	100	701817	703268	0	700812	5	5	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700584	0	6	1	701817	100	701817	704688	0	700498	0	0	701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700584	0	7	1	701817	100	701817	704688	0	700503	0	N	701009	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-228	3	700584	0	8	1	701817	100	701817	704688	0	700811			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700584	0	9	1	701817	100	701817	704688	0	700812			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700755	0	2	4	705428	100	0	705428	0	700511	900205	L9: Noh en gordelstrips	-1	-1	900205	900132	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1
ER_DE04-00-228	3	700755	0	3	4	705429	100	0	705429	0	700751			-1	-1	-1	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-228	3	700755	0	4	4	705429	100	0	705429	0	701151	362	362	-1	-1	-1	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-228	3	700755	0	5	4	709030	200	0	709030	0	700511	900484	Yes	-1	-1	900484	900141	-1	0	0		100	100	1	200	100	0	0	0	100	101	0	1
ER_DE04-00-228	3	700755	0	6	4	710531	100	0	710531	0	700511	900976	H: Halffabrikaten Volgordelijk	-1	-1	900976	900211	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1
ER_DE04-00-228	3	700755	0	7	1	703176	100	703176	710529	0	700511	0	0	700626	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1
ER_DE04-00-228	3	700755	0	8	1	703176	100	703176	710530	0	700511	14	14	700627	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1

--CREATE WITH A COPY WITHIN INTERSPEC OF THIS PART-NO A NEW DEV-REVISION
select * from mv_specdata where part_no = 'ER_DE04-00-228' and revision = 3;
ER_DE04-00-228	4	700583	701782	10	4	710528	100	0	710528	0	700511	10	10	-1	-1	-1	-1	-1	0	0		100	100	1	100	100	0	0	0	0	101	0	1
ER_DE04-00-228	4	700584	0	2	1	701817	100	701817	703268	0	700498	228	228	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	4	700584	0	3	1	701817	100	701817	703268	0	700503	0	N	700649	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-228	4	700584	0	4	1	701817	100	701817	703268	0	700811	3	3	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	4	700584	0	5	1	701817	100	701817	703268	0	700812	5	5	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	4	700584	0	6	1	701817	100	701817	704688	0	700498	0	0	701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	4	700584	0	7	1	701817	100	701817	704688	0	700503	0	N	701009	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-228	4	700584	0	8	1	701817	100	701817	704688	0	700811			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	4	700584	0	9	1	701817	100	701817	704688	0	700812			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	4	700755	0	11	4	705428	100	0	705428	0	700511	900205	L9: NOH EN GORDEL-STRIPS          	-1	-1	900205	900132	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1
ER_DE04-00-228	4	700755	0	12	4	705429	100	0	705429	0	700751			-1	-1	-1	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-228	4	700755	0	13	4	705429	100	0	705429	0	701151	362	362	-1	-1	-1	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-228	4	700755	0	14	4	709030	200	0	709030	0	700511	900484	Yes	-1	-1	900484	900141	-1	0	0		100	100	1	200	100	0	0	0	100	101	0	1
ER_DE04-00-228	4	700755	0	15	4	710531	100	0	710531	0	700511	900976	H: Halffabrikaten Volgordelijk	-1	-1	900976	900211	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1
ER_DE04-00-228	4	700755	0	16	1	703176	100	703176	710529	0	700511	0	0	700626	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1
ER_DE04-00-228	4	700755	0	17	1	703176	100	703176	710530	0	700511	14	14	700627	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1
--a new revision=4 is created, 16 rows are added...

--INTERSPEC-DB: IS61
select count(*) from specdata;
--72.882.463   (was 72.882.447) 16rows added !!

select count(*) from mv_specdata;
--72.882.463	(was: 72.882.447) 16 rows added !!!

--*********************
--In REDSHIFT-DB:
--*********************
select count(*) from mv_specdata;
--72882463 (= ok !!!)

select * from interspc.mv_specdata where part_no = 'ER_DE04-00-228' and revision = 3;
ER_DE04-00-228	3	700584	0	4	1	701817	100	701817	703268	0	700811	3.0	3	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700584	0	8	1	701817	100	701817	704688	0	700811			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700755	0	2	4	705428	100	0	705428	0	700511	900205.0	L9: Noh en gordelstrips	-1	-1	900205	900132	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1
ER_DE04-00-228	3	700755	0	6	4	710531	100	0	710531	0	700511	900976.0	H: Halffabrikaten Volgordelijk	-1	-1	900976	900211	-1	0	0		100	100	1	100	100	0	0	0	100	101	0	1
ER_DE04-00-228	3	700584	0	3	1	701817	100	701817	703268	0	700503	0.0	N	700649	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-228	3	700584	0	7	1	701817	100	701817	704688	0	700503	0.0	N	701009	-1	-1	-1	5	0	1		100	100	100	101	100	100	0	0	0	200	0	1
ER_DE04-00-228	3	700755	0	5	4	709030	200	0	709030	0	700511	900484.0	Yes	-1	-1	900484	900141	-1	0	0		100	100	1	200	100	0	0	0	100	101	0	1
ER_DE04-00-228	3	700584	0	2	1	701817	100	701817	703268	0	700498	228.0	228	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700584	0	6	1	701817	100	701817	704688	0	700498	0.0	0	701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700583	701782	10	4	710528	100	0	710528	0	700511	10.0	10	-1	-1	-1	-1	-1	0	0		100	100	1	100	100	0	0	0	0	101	0	1
ER_DE04-00-228	3	700755	0	4	4	705429	100	0	705429	0	701151	362.0	362	-1	-1	-1	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-228	3	700755	0	8	1	703176	100	703176	710530	0	700511	14.0	14	700627	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1
ER_DE04-00-228	3	700584	0	5	1	701817	100	701817	703268	0	700812	5.0	5	700649	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700584	0	9	1	701817	100	701817	704688	0	700812			701009	-1	-1	-1	5	0	0		100	100	100	101	100	100	0	0	0	100	0	1
ER_DE04-00-228	3	700755	0	3	4	705429	100	0	705429	0	700751			-1	-1	-1	900137	-1	0	0		100	100	1	100	100	0	0	0	101	100	0	1
ER_DE04-00-228	3	700755	0	7	1	703176	100	703176	710529	0	700511	0.0	0	700626	-1	900976	900211	-1	0	0		100	100	100	100	100	100	0	0	0	101	0	1

--correct data is available !!


